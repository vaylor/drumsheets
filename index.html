<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Eric's Drum Sheets Library</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #003087 0%, #0055bc 100%);
            min-height: 100vh;
            padding: 20px;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        h1 {
            color: white;
            text-align: center;
            margin-bottom: 10px;
            font-size: 2.5em;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        .subtitle {
            color: rgba(255,255,255,0.9);
            text-align: center;
            margin-bottom: 30px;
            font-size: 1.1em;
        }
        .search-box {
            width: 100%;
            max-width: 500px;
            margin: 0 auto 30px;
            display: block;
            padding: 15px 20px;
            font-size: 16px;
            border: none;
            border-radius: 50px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.2);
        }
        .class-section {
            margin-bottom: 40px;
        }
        .class-header {
            color: white;
            font-size: 1.8em;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid rgba(255,255,255,0.3);
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .class-count {
            font-size: 0.6em;
            background: rgba(255,255,255,0.2);
            padding: 4px 12px;
            border-radius: 20px;
        }
        .sheets-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        .sheet-card {
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
            border-top: 3px solid #003087;
        }
        .sheet-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(0,0,0,0.2);
        }
        .sheet-icon {
            font-size: 2em;
            margin-bottom: 10px;
        }
        .sheet-title {
            font-size: 1.1em;
            font-weight: 600;
            margin-bottom: 12px;
            color: #333;
            word-break: break-word;
        }
        .sheet-actions {
            display: flex;
            gap: 8px;
        }
        .btn {
            flex: 1;
            padding: 10px;
            text-decoration: none;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 500;
            transition: all 0.2s;
            cursor: pointer;
            border: none;
            text-align: center;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 4px;
        }
        .btn-view {
            background: #003087;
            color: white;
        }
        .btn-view:hover {
            background: #0055bc;
        }
        .btn-download {
            background: #f0f0f0;
            color: #333;
        }
        .btn-download:hover {
            background: #e0e0e0;
        }
        .btn-share {
            background: #28a745;
            color: white;
        }
        .btn-share:hover {
            background: #218838;
        }
        .btn:hover {
            transform: scale(1.05);
        }
        .btn-icon {
            font-size: 1.1em;
        }
        .stats {
            text-align: center;
            color: white;
            margin-top: 40px;
            padding: 20px;
            background: rgba(255,255,255,0.1);
            border-radius: 15px;
            backdrop-filter: blur(10px);
        }
        .no-results {
            text-align: center;
            color: white;
            font-size: 1.2em;
            margin-top: 50px;
            padding: 40px;
            background: rgba(255,255,255,0.1);
            border-radius: 15px;
            display: none;
        }
        .toast {
            position: fixed;
            bottom: 30px;
            right: 30px;
            background: #28a745;
            color: white;
            padding: 15px 25px;
            border-radius: 10px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            transform: translateY(100px);
            opacity: 0;
            transition: all 0.3s ease;
            z-index: 1000;
        }
        .toast.show {
            transform: translateY(0);
            opacity: 1;
        }
        @media (max-width: 768px) {
            .sheets-grid {
                grid-template-columns: 1fr;
            }
            .btn {
                font-size: 12px;
                padding: 8px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ü•Å Eric's Drum Sheets Library</h1>
        <p class="subtitle">Professional Drum Education Materials</p>
        
        <input type="text" 
               class="search-box" 
               id="searchBox" 
               placeholder="Search sheets... (e.g., 'jazz', 'basic beats', 'fills')">
        
        <div id="classGroups">
            <!-- Class sections will be inserted here by JavaScript -->
        </div>
        
        <div class="no-results" id="noResults">
            No sheets found matching your search. Try different keywords!
        </div>
        
        <div class="stats">
            <span id="sheetCount">0</span> drum sheets available across <span id="classCount">0</span> classes | 
            Last updated: <span id="updateTime"></span>
        </div>
    </div>
    
    <div class="toast" id="toast">Link copied to clipboard!</div>
    
    <script>
        // PDF files data will be inserted here by the bash script
        const pdfFiles = [

  {name: '3-VOICE-COMPING', path: 'PDF/ChopShop/3-VOICE-COMPING.pdf', className: 'ChopShop'},
  {name: 'bellpatterns', path: 'PDF/DoubleBass/bellpatterns.pdf', className: 'DoubleBass'},
  {name: 'bellpatterns', path: 'PDF/Funk/bellpatterns.pdf', className: 'Funk'},
  {name: 'cymbalpatterns', path: 'PDF/Funk/cymbalpatterns.pdf', className: 'Funk'},
  {name: 'doublesixteenths', path: 'PDF/Funk/doublesixteenths.pdf', className: 'Funk'},
  {name: 'doubletime', path: 'PDF/Funk/doubletime.pdf', className: 'Funk'},
  {name: 'halftime', path: 'PDF/Funk/halftime.pdf', className: 'Funk'},
  {name: 'halftimegrooves', path: 'PDF/Funk/halftimegrooves.pdf', className: 'Funk'},
  {name: 'running', path: 'PDF/Funk/running.pdf', className: 'Funk'},
  {name: 'Marbles', path: 'PDF/Snare/Marbles.pdf', className: 'Snare'},
  {name: 'allrise', path: 'PDF/Snare/allrise.pdf', className: 'Snare'},
  {name: 'beattheheat', path: 'PDF/Snare/beattheheat.pdf', className: 'Snare'},
  {name: 'bluetiful', path: 'PDF/Snare/bluetiful.pdf', className: 'Snare'},
  {name: 'clockwise', path: 'PDF/Snare/clockwise.pdf', className: 'Snare'},
  {name: 'codetojoy', path: 'PDF/Snare/codetojoy.pdf', className: 'Snare'},
  {name: 'dicersnares', path: 'PDF/Snare/dicersnares.pdf', className: 'Snare'},
  {name: 'dontsleeponit', path: 'PDF/Snare/dontsleeponit.pdf', className: 'Snare'},
  {name: 'doubledown', path: 'PDF/Snare/doubledown.pdf', className: 'Snare'},
  {name: 'driveforfive', path: 'PDF/Snare/driveforfive.pdf', className: 'Snare'},
  {name: 'feedtheneed', path: 'PDF/Snare/feedtheneed.pdf', className: 'Snare'},
  {name: 'gowiththeflow', path: 'PDF/Snare/gowiththeflow.pdf', className: 'Snare'},
  {name: 'half_half', path: 'PDF/Snare/half_half.pdf', className: 'Snare'},
  {name: 'honorroll', path: 'PDF/Snare/honorroll.pdf', className: 'Snare'},
  {name: 'hopeonthehorizon', path: 'PDF/Snare/hopeonthehorizon.pdf', className: 'Snare'},
  {name: 'hopscotch', path: 'PDF/Snare/hopscotch.pdf', className: 'Snare'},
  {name: 'hourglass', path: 'PDF/Snare/hourglass.pdf', className: 'Snare'},
  {name: 'jumpingjacks', path: 'PDF/Snare/jumpingjacks.pdf', className: 'Snare'},
  {name: 'magichat', path: 'PDF/Snare/magichat.pdf', className: 'Snare'},
  {name: 'maize', path: 'PDF/Snare/maize.pdf', className: 'Snare'},
  {name: 'midnightdreams', path: 'PDF/Snare/midnightdreams.pdf', className: 'Snare'},
  {name: 'pangram', path: 'PDF/Snare/pangram.pdf', className: 'Snare'},
  {name: 'riteofway', path: 'PDF/Snare/riteofway.pdf', className: 'Snare'},
  {name: 'routestoroots', path: 'PDF/Snare/routestoroots.pdf', className: 'Snare'},
  {name: 'sapphire', path: 'PDF/Snare/sapphire.pdf', className: 'Snare'},
  {name: 'snowcone', path: 'PDF/Snare/snowcone.pdf', className: 'Snare'},
  {name: 'softserve', path: 'PDF/Snare/softserve.pdf', className: 'Snare'},
  {name: 'stairstothestars', path: 'PDF/Snare/stairstothestars.pdf', className: 'Snare'},
  {name: 'stonesandbones', path: 'PDF/Snare/stonesandbones.pdf', className: 'Snare'},
  {name: 'streaming', path: 'PDF/Snare/streaming.pdf', className: 'Snare'},
  {name: 'tricksofthetrade', path: 'PDF/Snare/tricksofthetrade.pdf', className: 'Snare'},
  {name: 'wheelhouse', path: 'PDF/Snare/wheelhouse.pdf', className: 'Snare'},
  {name: 'swissarmytriplets', path: 'PDF/Technique/swissarmytriplets.pdf', className: 'Technique'}
        ];
        
        // Group PDFs by class
        const pdfsByClass = {};
        pdfFiles.forEach(pdf => {
            const className = pdf.className || 'General';
            if (!pdfsByClass[className]) {
                pdfsByClass[className] = [];
            }
            pdfsByClass[className].push(pdf);
        });
        
        // Sort classes alphabetically
        const sortedClasses = Object.keys(pdfsByClass).sort();
        
        // Generate class sections
        const classGroups = document.getElementById('classGroups');
        const sheetCount = document.getElementById('sheetCount');
        const classCount = document.getElementById('classCount');
        const updateTime = document.getElementById('updateTime');
        const noResults = document.getElementById('noResults');
        const toast = document.getElementById('toast');
        
        // Set stats
        updateTime.textContent = new Date().toLocaleString('en-US', {
            month: 'short',
            day: 'numeric',
            year: 'numeric',
            hour: 'numeric',
            minute: '2-digit',
            hour12: true
        });
        sheetCount.textContent = pdfFiles.length;
        classCount.textContent = sortedClasses.length;
        
        // Create sections for each class
        sortedClasses.forEach(className => {
            const section = document.createElement('div');
            section.className = 'class-section';
            section.dataset.class = className.toLowerCase();
            
            // Create header
            const header = document.createElement('h2');
            header.className = 'class-header';
            header.innerHTML = `
                üìö ${className}
                <span class="class-count">${pdfsByClass[className].length} sheets</span>
            `;
            section.appendChild(header);
            
            // Create grid for this class
            const grid = document.createElement('div');
            grid.className = 'sheets-grid';
            
            // Sort PDFs within class alphabetically
            pdfsByClass[className].sort((a, b) => a.name.localeCompare(b.name));
            
            // Create cards for each PDF in this class
            pdfsByClass[className].forEach(pdf => {
                const card = document.createElement('div');
                card.className = 'sheet-card';
                card.dataset.name = pdf.name.toLowerCase();
                card.dataset.class = className.toLowerCase();
                
                // Generate full URL for sharing
                const baseUrl = window.location.origin + window.location.pathname.replace(/\/[^\/]*$/, '/');
                const fullPdfUrl = baseUrl + pdf.path;
                
                card.innerHTML = `
                    <div class="sheet-icon">üìÑ</div>
                    <div class="sheet-title">${pdf.name}</div>
                    <div class="sheet-actions">
                        <a href="${pdf.path}" target="_blank" class="btn btn-view">
                            <span class="btn-icon">üëÅÔ∏è</span> View
                        </a>
                        <a href="${pdf.path}" download class="btn btn-download">
                            <span class="btn-icon">‚¨áÔ∏è</span> Save
                        </a>
                        <button class="btn btn-share" onclick="shareSheet('${pdf.name}', '${fullPdfUrl}')">
                            <span class="btn-icon">üìß</span> Share
                        </button>
                    </div>
                `;
                
                grid.appendChild(card);
            });
            
            section.appendChild(grid);
            classGroups.appendChild(section);
        });
        
        // Share functionality
        window.shareSheet = function(sheetName, sheetUrl) {
            const subject = encodeURIComponent(`Check out this drum sheet: ${sheetName}`);
            const body = encodeURIComponent(`Hey!\n\nI thought you might be interested in this drum sheet:\n\n${sheetName}\n\nYou can view it here: ${sheetUrl}\n\nFrom Eric's Drum Sheets Library`);
            
            // Try to use native sharing if available (mobile)
            if (navigator.share) {
                navigator.share({
                    title: `Drum Sheet: ${sheetName}`,
                    text: `Check out this drum sheet: ${sheetName}`,
                    url: sheetUrl
                }).catch((error) => {
                    // If user cancels or share fails, fall back to email
                    if (error.name !== 'AbortError') {
                        window.location.href = `mailto:?subject=${subject}&body=${body}`;
                    }
                });
            } else {
                // Desktop: open email client
                window.location.href = `mailto:?subject=${subject}&body=${body}`;
            }
            
            // Also copy link to clipboard
            if (navigator.clipboard) {
                navigator.clipboard.writeText(sheetUrl).then(() => {
                    toast.classList.add('show');
                    setTimeout(() => {
                        toast.classList.remove('show');
                    }, 3000);
                });
            }
        };
        
        // Search functionality
        const searchBox = document.getElementById('searchBox');
        const sections = document.querySelectorAll('.class-section');
        const cards = document.querySelectorAll('.sheet-card');
        
        searchBox.addEventListener('input', (e) => {
            const search = e.target.value.toLowerCase();
            let hasResults = false;
            
            if (search === '') {
                // Show all sections and cards
                sections.forEach(section => {
                    section.style.display = 'block';
                });
                cards.forEach(card => {
                    card.style.display = 'block';
                });
                hasResults = true;
            } else {
                // Hide all sections first
                sections.forEach(section => {
                    section.style.display = 'none';
                });
                
                // Show matching cards and their sections
                cards.forEach(card => {
                    const name = card.dataset.name;
                    const className = card.dataset.class;
                    
                    if (name.includes(search) || className.includes(search)) {
                        card.style.display = 'block';
                        card.closest('.class-section').style.display = 'block';
                        hasResults = true;
                    } else {
                        card.style.display = 'none';
                    }
                });
                
                // Hide sections with no visible cards
                sections.forEach(section => {
                    const visibleCards = section.querySelectorAll('.sheet-card[style="display: block;"]');
                    if (visibleCards.length === 0) {
                        section.style.display = 'none';
                    }
                });
            }
            
            noResults.style.display = hasResults ? 'none' : 'block';
            classGroups.style.display = hasResults ? 'block' : 'none';
        });
    </script>
</body>
</html>
